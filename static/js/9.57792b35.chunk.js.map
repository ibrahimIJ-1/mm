{"version":3,"sources":["components/basic/RemoteSelect.jsx","helpers/toBase64.js","../node_modules/antd/es/switch/style/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/rc-switch/es/index.js","../node_modules/antd/es/switch/index.js","components/SubServiceBenifites/DBModel.jsx","components/SubServiceBenifites/List.jsx"],"names":["superagent","getAgentInstance","RemoteSelect","props","initialState","data","value","undefined","initialValue","defaultValue","fetching","all","state","onChange","setState","v","key","loadData","e","resetValue","onSearch","searchQuery","debounce","endpoint","params","limit","offset","q","get","process","query","end","err","res","body","exclude","array","filter","id","options","map","element","push","text","optiontext","name","optionvalue","ref","this","placeholder","disabled","className","rtl","textHolder","allowClear","mode","showSearch","labelInValue","notFoundContent","size","image","PRESENTED_IMAGE_SIMPLE","filterOption","style","width","Option","fontFamily","d","React","Component","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","_arrayLikeToArray","arr","len","length","i","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","Object","from","o","minLen","n","prototype","toString","call","slice","constructor","test","TypeError","Switch","_ref","_classNames","_ref$prefixCls","prefixCls","checked","defaultChecked","loadingIcon","checkedChildren","unCheckedChildren","onClick","onKeyDown","restProps","_objectWithoutProperties","_useMergedState","useMergedState","_useMergedState2","_slicedToArray","innerChecked","setInnerChecked","triggerChange","newChecked","event","mergedChecked","switchClassName","classNames","_defineProperty","concat","assign","type","role","which","KeyCode","LEFT","RIGHT","ret","displayName","__rest","s","t","p","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","_a","customizePrefixCls","customizeSize","loading","_a$className","devWarning","_React$useContext","ConfigContext","getPrefixCls","direction","SizeContext","LoadingOutlined","classes","Wave","insertExtraNode","RcSwitch","_extends","__ANT_SWITCH","DBModel","modelName","modelTitle","title","reloadGrid","buttonIcon","model","isModalVisible","plans","loadModel","a","getRequest","modelFormRef","current","setFieldsValue","subServiceId","label","subService","headerEn","setPlans","onFormFinished","values","headerAr","form","postRequest","closeModal","showModal","subServiceIdChanged","isIncluded","createRef","icon","shape","visible","onCancel","okButtonProps","htmlType","cancelButtonProps","display","onFinish","marginTop","gutter","span","Item","i18n","rules","required","message","obj","index","newPlans","target","pageSizeOptions","List","inject","observer","createTitle","editTitle","type_name","selectedPackageId","selectedUserId","pagination","pageSize","parseInt","total","showSizeChanger","hideOnSinglePage","showQuickJumper","sortedInfo","editResourceId","activityForDetails","access","fetch","page","qs","stringify","tpagination","count","deleteModel","deleting","deleteRequest","showActivityDetail","activity","closeActivityDetails","columns","align","dataIndex","sorter","render","ellipsis","object","EditOutlined","placement","onConfirm","okText","cancelText","DeleteFilled","color","newBtn","editBtn","newBtnClicked","click","editBtnClicked","handleTableChange","filters","pager","categoryNameChanged","filterFormRef","rowClassName","rowKey","uniqid","dataSource","margin","height","PlusOutlined","withTranslation"],"mappings":"mQAMMA,EAAaC,cAEbC,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,gBACKC,aAAe,iBAAO,CACzBC,KAAM,GACNC,WAAOC,EACPC,aAAcL,EAAMM,mBAAgBF,EACpCG,UAAU,EACVC,MAAKR,EAAMQ,KAAMR,EAAMQ,MAEzB,EAAKC,MAAQ,EAAKR,eAElB,EAAKS,SAAW,SAACP,GACf,EAAKQ,SAAS,CAAER,UAChB,IACE,IAAMS,EAAIT,EAAQA,EAAMU,SAAMT,GAE9BM,EADqB,EAAKV,MAAlBU,UACCP,EAAOS,GACXT,GACH,EAAKW,SAAS,IAEhB,MAAOC,MAIX,EAAKC,WAAa,WAChB,EAAKL,SAAS,CAAER,WAAOC,KAGzB,EAAKa,SAAW,SAACC,GACf,EAAKJ,SAASI,IAGhB,EAAKJ,SAAWK,KAAS,SAACD,GAAuC,IAA1BE,EAAyB,4DAAdhB,EAChD,EAAKO,SAAS,CAAEJ,UAAU,IAC1B,IAAMc,EAAS,CACbC,MAAO,IACPC,OAAQ,GAGNL,GAA+B,KAAhBA,IACjBG,EAAOG,EAAIN,GAEbrB,EACG4B,IADH,UACUC,0BADV,OAC0CN,GAAY,EAAKpB,MAAMoB,WAC9DO,MAAMN,GACNO,KAAI,SAACC,EAAKC,GACT,GAAKD,EA0BH,EAAKlB,SAAS,CAAET,KAAM,GAAIK,UAAU,QA1B5B,CAAC,IACDwB,EAASD,EAATC,KACAC,EAAY,EAAKhC,MAAjBgC,QAEJC,EAAQ,GACZ,GAAID,EAEFC,EADiBF,EAAKG,QAAO,SAAC/B,GAAD,OAAWA,EAAMgC,KAAOH,UAEhDC,EAAQF,EAEf,IAAMK,EAAU,GAChBH,EAAM/B,KAAKmC,KAAI,SAACC,GAWd,OAVAF,EAAQG,KAAK,CACXC,KACmC,oBAA1B,EAAKxC,MAAMyC,WACd,EAAKzC,MAAMyC,WAAWH,GACtBA,EAAQI,KACdvC,MACoC,oBAA3B,EAAKH,MAAM2C,YACd,EAAK3C,MAAM2C,YAAYL,GACvBA,EAAQH,KAET,QAET,EAAKxB,SAAS,CAAET,KAAMkC,EAAS7B,UAAU,UAK9C,KAEH,EAAKqC,IAAM5C,EAAM4C,IA7EA,E,gEAiFbC,KAAK7C,MAAMoB,UAAUyB,KAAK/B,a,+BAWtB,IAAD,EAC8C+B,KAAKpC,MAAlDF,EADD,EACCA,SAAUL,EADX,EACWA,KAAMC,EADjB,EACiBA,MAAOE,EADxB,EACwBA,aAAcG,EADtC,EACsCA,IADtC,EAIHqC,KAAK7C,MADP8C,EAHK,EAGLA,YAAaC,EAHR,EAGQA,SAAUC,EAHlB,EAGkBA,UAAWC,EAH7B,EAG6BA,IAE9BC,EAAaJ,GAAe,GAClC,OACE,uBACEK,gBAAsC/C,IAA1ByC,KAAK7C,MAAMmD,YAAkCN,KAAK7C,MAAMmD,WACpEC,KAAMP,KAAK7C,MAAMoD,MAAQ,KACzBC,YAAU,EACVN,SAAUA,EACVO,cAAY,EACZnD,MAAOA,EACPG,aAAcD,EACdkD,gBACEhD,EACE,uBAAMiD,KAAK,UAEX,uBAAOC,MAAO,IAAMC,yBAGxBC,cAAc,EACd1C,SAAU4B,KAAK5B,SACfP,SAAUmC,KAAKnC,SACfkD,MAAO,CAAEC,MAAO,QAChBf,YAAaI,EACbF,UAAWA,QAAa5C,GAEvBI,GAAQ,sBAAQsD,OAAR,CAAejD,KAAM,EAAG+C,MAAO,CAAEG,WAAYd,EAAM,kBAAe7C,IAAlE,OACRF,EAAKmC,KAAI,SAAC2B,GAAD,OACR,sBAAQF,OAAR,CACEjD,IAAKmD,EAAE7D,MACPyD,MAAO,CAAEG,WAAYd,EAAM,kBAAe7C,IAEzC4D,EAAExB,a,gDA3CmBxC,GAC9B,MAAI,UAAWA,EAEN,CAAEG,MADSH,EAAVG,OAGH,S,GA1FgB8D,IAAMC,WAwIlBnE,O,iCChJA,SAASoE,EAASC,GAC7B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACrB,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcN,GACrBI,EAAOG,OAAS,kBAAML,EAAQE,EAAOI,SACrCJ,EAAOK,QAAU,SAAAC,GAAK,OAAIP,EAAOO,OAL7C,mC,iCCAA,c,iCCAe,SAASC,EAAkBC,EAAKC,IAClC,MAAPA,GAAeA,EAAMD,EAAIE,UAAQD,EAAMD,EAAIE,QAE/C,IAAK,IAAIC,EAAI,EAAGC,EAAO,IAAIC,MAAMJ,GAAME,EAAIF,EAAKE,IAC9CC,EAAKD,GAAKH,EAAIG,GAGhB,OAAOC,ECHM,SAASE,EAAmBN,GACzC,OCJa,SAA4BA,GACzC,GAAIK,MAAME,QAAQP,GAAM,OAAO,EAAiBA,GDGzC,CAAkBA,IELZ,SAA0BQ,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBR,IGJpC,SAAqCa,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,kBAANA,EAAgB,OAAO,EAAiBA,EAAGC,GACtD,IAAIC,EAAIJ,OAAOK,UAAUC,SAASC,KAAKL,GAAGM,MAAM,GAAI,GAEpD,MADU,WAANJ,GAAkBF,EAAEO,cAAaL,EAAIF,EAAEO,YAAY1D,MAC7C,QAANqD,GAAqB,QAANA,EAAoBV,MAAMO,KAAKG,GACxC,cAANA,GAAqB,2CAA2CM,KAAKN,GAAW,EAAiBF,EAAGC,QAAxG,GHFyD,CAA2Bd,IILvE,WACb,MAAM,IAAIsB,UAAU,wIJIwE,G,qKKE1FC,EAAStC,cAAiB,SAAUuC,EAAM5D,GAC5C,IAAI6D,EAEAC,EAAiBF,EAAKG,UACtBA,OAA+B,IAAnBD,EAA4B,YAAcA,EACtD1D,EAAYwD,EAAKxD,UACjB4D,EAAUJ,EAAKI,QACfC,EAAiBL,EAAKK,eACtB9D,EAAWyD,EAAKzD,SAChB+D,EAAcN,EAAKM,YACnBC,EAAkBP,EAAKO,gBACvBC,EAAoBR,EAAKQ,kBACzBC,EAAUT,EAAKS,QACfvG,EAAW8F,EAAK9F,SAChBwG,EAAYV,EAAKU,UACjBC,EAAYC,YAAyBZ,EAAM,CAAC,YAAa,YAAa,UAAW,iBAAkB,WAAY,cAAe,kBAAmB,oBAAqB,UAAW,WAAY,cAE7La,EAAkBC,aAAe,EAAO,CAC1CnH,MAAOyG,EACPtG,aAAcuG,IAEZU,EAAmBC,YAAeH,EAAiB,GACnDI,EAAeF,EAAiB,GAChCG,EAAkBH,EAAiB,GAEvC,SAASI,EAAcC,EAAYC,GACjC,IAAIC,EAAgBL,EAQpB,OANK1E,IAEH2E,EADAI,EAAgBF,GAEH,OAAblH,QAAkC,IAAbA,GAA+BA,EAASoH,EAAeD,IAGvEC,EAmBT,IAAIC,EAAkBC,IAAWrB,EAAW3D,GAAYyD,EAAc,GAAIwB,YAAgBxB,EAAa,GAAGyB,OAAOvB,EAAW,YAAac,GAAeQ,YAAgBxB,EAAa,GAAGyB,OAAOvB,EAAW,aAAc5D,GAAW0D,IACnO,OAAOxC,gBAAoB,SAAU0B,OAAOwC,OAAO,GAAIhB,EAAW,CAChEiB,KAAM,SACNC,KAAM,SACN,eAAgBZ,EAChB1E,SAAUA,EACVC,UAAW+E,EACXnF,IAAKA,EACLsE,UAxBF,SAA2BnG,GACrBA,EAAEuH,QAAUC,IAAQC,KACtBb,GAAc,EAAO5G,GACZA,EAAEuH,QAAUC,IAAQE,OAC7Bd,GAAc,EAAM5G,GAGR,OAAdmG,QAAoC,IAAdA,GAAgCA,EAAUnG,IAkBhEkG,QAfF,SAAyBlG,GACvB,IAAI2H,EAAMf,GAAeF,EAAc1G,GAE3B,OAAZkG,QAAgC,IAAZA,GAA8BA,EAAQyB,EAAK3H,MAa7D+F,EAAa7C,gBAAoB,OAAQ,CAC3CjB,UAAW,GAAGkF,OAAOvB,EAAW,WAC/Bc,EAAeV,EAAkBC,OAEtCT,EAAOoC,YAAc,SACNpC,Q,kDCxEXqC,EAAgC,SAAUC,EAAG9H,GAC/C,IAAI+H,EAAI,GAER,IAAK,IAAIC,KAAKF,EACRlD,OAAOK,UAAUgD,eAAe9C,KAAK2C,EAAGE,IAAMhI,EAAEkI,QAAQF,GAAK,IAAGD,EAAEC,GAAKF,EAAEE,IAG/E,GAAS,MAALF,GAAqD,oBAAjClD,OAAOuD,sBAA2C,KAAI/D,EAAI,EAAb,IAAgB4D,EAAIpD,OAAOuD,sBAAsBL,GAAI1D,EAAI4D,EAAE7D,OAAQC,IAClIpE,EAAEkI,QAAQF,EAAE5D,IAAM,GAAKQ,OAAOK,UAAUmD,qBAAqBjD,KAAK2C,EAAGE,EAAE5D,MAAK2D,EAAEC,EAAE5D,IAAM0D,EAAEE,EAAE5D,KAEhG,OAAO2D,GAWLvC,EAAsBtC,cAAiB,SAAUmF,EAAIxG,GACvD,IAAI6D,EAEA4C,EAAqBD,EAAGzC,UACxB2C,EAAgBF,EAAG5F,KACnB+F,EAAUH,EAAGG,QACbC,EAAeJ,EAAGpG,UAClBA,OAA6B,IAAjBwG,EAA0B,GAAKA,EAC3CzG,EAAWqG,EAAGrG,SACd/C,EAAQ4I,EAAOQ,EAAI,CAAC,YAAa,OAAQ,UAAW,YAAa,aAErEK,YAAW,YAAazJ,KAAW,UAAWA,GAAQ,SAAU,uDAEhE,IAAI0J,EAAoBzF,aAAiB0F,KACrCC,EAAeF,EAAkBE,aACjCC,EAAYH,EAAkBG,UAE9BrG,EAAOS,aAAiB6F,KACxBnD,EAAYiD,EAAa,SAAUP,GACnCvC,EAA2B7C,gBAAoB,MAAO,CACxDjB,UAAW,GAAGkF,OAAOvB,EAAW,YAC/B4C,GAAwBtF,gBAAoB8F,IAAiB,CAC9D/G,UAAW,GAAGkF,OAAOvB,EAAW,oBAE9BqD,EAAUhC,KAAYvB,EAAc,GAAIwB,IAAgBxB,EAAa,GAAGyB,OAAOvB,EAAW,UAAuC,WAA3B2C,GAAiB9F,IAAoByE,IAAgBxB,EAAa,GAAGyB,OAAOvB,EAAW,YAAa4C,GAAUtB,IAAgBxB,EAAa,GAAGyB,OAAOvB,EAAW,QAAuB,QAAdkD,GAAsBpD,GAAczD,GACvT,OAAoBiB,gBAAoBgG,IAAM,CAC5CC,iBAAiB,GACHjG,gBAAoBkG,EAAUC,IAAS,GAAIpK,EAAO,CAChE2G,UAAWA,EACX3D,UAAWgH,EACXjH,SAAUA,GAAYwG,EACtB3G,IAAKA,EACLkE,YAAaA,SAGjBP,EAAO8D,cAAe,EACtB9D,EAAOoC,YAAc,SACNpC,O,qeCpCM+D,E,kDACnB,WAAYtK,GAAQ,IAAD,8BACjB,cAAMA,IACDC,aAAe,iBAAO,CACzBkC,GAAInC,EAAMmC,GACVoI,UAAWvK,EAAMuK,UACjBC,WAAYxK,EAAMyK,MAClBC,WAAY1K,EAAM0K,WAClBC,WAAY3K,EAAM2K,WAClBC,MAAO,KACPC,gBAAgB,EAChBC,MAAO,KAET,EAAKrK,MAAQ,EAAKR,eAClB,EAAK8K,UAAL,sBAAiB,4BAAAC,EAAA,0DACX,EAAKvK,MAAM0B,GADA,gCAEI8I,YAAW,GAAD,OAAI,EAAKxK,MAAM8J,UAAf,YAA4B,EAAK9J,MAAM0B,KAFrD,OAETjC,EAFS,OAGb,EAAKS,SACH,CACEiK,MAAO1K,IAET,WACM,EAAKgL,aAAaC,SACpB,EAAKD,aAAaC,QAAQC,eAA1B,2BACKlL,GADL,IAEEmL,aAAc,CACZlJ,GAAIjC,EAAKmL,aACTxK,IAAKX,EAAKmL,aACVC,MAAOpL,EAAKqL,WAAWC,aAI7B,EAAKC,SAASvL,EAAK4K,UAlBV,2CAwBjB,EAAKY,eAAL,uCAAsB,WAAOC,GAAP,6BAAAX,EAAA,+DACkB,EAAKvK,MAAnC0B,EADY,EACZA,GAAIoI,EADQ,EACRA,UAAWG,EADH,EACGA,WAErBc,EAIEG,EAJFH,SACAI,EAGED,EAHFC,SAEAP,EACEM,EADFN,aAEEQ,EAAO,CACTL,WACAI,WACAd,MAAO,EAAKrK,MAAMqK,MAClBO,aAAcA,EAAaxK,IAC3BsB,GAAIA,QAAU/B,GAbI,SAed0L,YAAYvB,EAAWsB,GAfT,OAgBhBnB,GAAYA,IAChB,EAAKqB,aAjBe,2CAAtB,kCAAAlJ,KAAA,eAoBA,EAAKmJ,UAAY,WACf,EAAKrL,SACH,CACEkK,gBAAgB,GAFpB,sBAIE,sBAAAG,EAAA,0DACM,EAAKvK,MAAM0B,GADjB,gCAC2B,EAAK4I,YADhC,6CAMJ,EAAKgB,WAAa,WAChB,EAAKpL,SAAS,CACZkK,gBAAgB,KAIpB,EAAKoB,oBAAL,uCAA2B,WAAO9L,GAAP,iBAAA6K,EAAA,0DACrB7K,EADqB,uBAEjBkL,EAAelL,EAAMA,MAFJ,SAGL8K,YAAW,oDAAD,OAC0BI,IAJ/B,OAGnBP,EAHmB,OAMvB,EAAKW,SAASX,EAAM5K,MANG,2CAA3B,kCAAA2C,KAAA,eAUA,EAAK4I,SAAW,SAACvL,GACf,EAAKS,SAAS,CACZmK,MAAO5K,EAAKmC,KAAI,SAAC2B,GACf,OAAO,2BACFA,GADL,IAEEkI,gBAA6B9L,IAAjB4D,EAAEkI,WAA2B,EAAIlI,EAAEkI,mBAMvD,EAAKhB,aAAeiB,sBA/FH,E,qDAkGT,IAAD,SACuCtJ,KAAKpC,MAA3C+J,EADD,EACCA,WAAYG,EADb,EACaA,WAAYG,EADzB,EACyBA,MADzB,EACgC3I,GACvC,OACE,yBAAKyB,MAAO,CAAEC,MAAO,SACnB,uBACEuE,KAAK,UACLnB,QAASpE,KAAKmJ,UACdI,KAAMzB,EACN0B,MAAM,QACNrJ,UAAU,uBACVY,MAAO,CAAEC,MAAO,UAEjBhB,KAAKpC,MAAMoK,gBACV,uBACEJ,MAAOD,EACP8B,QAASzJ,KAAKpC,MAAMoK,eACpB0B,SAAU1J,KAAKkJ,WACflI,MAAO,MACP2I,cAAe,CACbX,KAAM,YACNY,SAAU,SACVzJ,UAAW,cAEb0J,kBAAmB,CAAE9I,MAAO,CAAE+I,QAAS,UAEvC,uBACExK,GAAI,YACJS,IAAKC,KAAKqI,aACV0B,SAAU/J,KAAK6I,eACf9H,MAAO,CAAEiJ,UAAW,OAEpB,uBAAKC,OAAQ,IACX,uBAAKC,KAAM,IACT,sBAAMC,KAAN,CACEtK,KAAM,WACN4I,MAAO2B,IAAKnE,EAAE,iBACdoE,MAAO,CACL,CACEC,UAAU,EACVC,QAASH,IAAKnE,EAAE,wBAIpB,8BAIJ,uBAAKiE,KAAM,IACT,sBAAMC,KAAN,CACEtK,KAAM,WACN4I,MAAO2B,IAAKnE,EAAE,gBACdoE,MAAO,CACL,CACEC,UAAU,EACVC,QAASH,IAAKnE,EAAE,wBAIpB,8BAIJ,uBAAKiE,KAAM,IACT,sBAAMC,KAAN,CACEtK,KAAM,eACN4I,MAAO2B,IAAKnE,EAAE,sBACdoE,MAAO,CACL,CACEC,UAAU,EACVC,QAASH,IAAKnE,EAAE,wBAIpB,kBAAC/I,EAAA,EAAD,CACEqB,SAAS,kCACT0B,YAAamK,IAAKnE,EAAE,gBACpB3F,YAAY,EACZV,WAAY,SAAC4K,GAAD,OAASA,EAAI7B,UACzB9K,SAAU,SAACP,GAAD,OAAW,EAAK8L,oBAAoB9L,UAMvC,GAAhB2K,EAAM5F,QACL,2BACEtB,MAAO,CACLC,MAAO,SAGT,+BACE,4BACE,yCACA,yCAGJ,+BACGiH,EAAMzI,KAAI,SAAC0G,EAAGuE,GAAJ,OACT,oCACE,wBAAIzM,IAAKyM,GACP,4BAAKvE,EAAEyC,UACP,4BACE,uBACE5E,QAASmC,EAAEmD,WACXxL,SAAU,SAACP,GACT,IAAIoN,EAAQ,YAAO,EAAK9M,MAAMqK,OAC9ByC,EAASD,GAAOpB,WAAa/L,EAAQ,EAAI,EACzC,EAAKQ,SAAS,CACZmK,MAAOyC,QAKf,4BACE,uBACEpN,MAAO4I,EAAEvG,KACT9B,SAAU,SAACP,GACT,IAAIoN,EAAQ,YAAO,EAAK9M,MAAMqK,OAC9ByC,EAASD,GAAO9K,KAAOrC,EAAMqN,OAAOrN,MACpC,EAAKQ,SAAS,CACZmK,MAAOyC,qB,GA3NFtJ,IAAMC,W,QCcrCuJ,GAFa3N,cAEK,CAAC,IAAK,KAAM,KAAM,KAAM,OAI1C4N,EAFLC,YAAO,Y,GACPC,Y,oDAEG,WAAY5N,GAAQ,IAAD,8BACf,cAAMA,IACDC,aAAe,iBAAO,CACvBsK,UAAW,sBACXsD,YAAaZ,IAAKnE,EAAE,cACpBgF,UAAWb,IAAKnE,EAAE,eAClB5I,KAAM,GACNqJ,SAAS,EACTwE,eAAW3N,EACX4N,mBAAoB,EACpBC,gBAAiB,EACjBC,WAAY,CACRC,SAAUC,SAASX,EAAgB,GAAI,IACvCA,kBACAtC,QAAS,EACTkD,MAAO,EACPC,iBAAiB,EACjBC,kBAAkB,EAClBC,iBAAiB,GAErBC,WAAY,KACZC,oBAAgBtO,EAChBuO,mBAAoB,KACpBC,OAAQ,KAEZ,EAAKnO,MAAQ,EAAKR,eAElB,EAAK4O,MAAL,sBAAa,sCAAA7D,EAAA,6DACT,EAAKrK,SAAS,CAAE4I,SAAS,IADhB,EAEyB,EAAK9I,MAA/ByN,EAFC,EAEDA,WAAY3D,EAFX,EAEWA,UAEdlJ,EAAS,CACX8M,SAAUD,EAAWC,SACrBW,KAAMZ,EAAW/C,QAAU,GANtB,SAUL,EAAKxK,SAAS,CAAE4I,SAAS,IAVpB,SAWY0B,YAAW,GAAD,OAAIV,EAAJ,YAAiBwE,IAAGC,UAAU3N,KAXpD,OAWDU,EAXC,QAYCkN,EAZD,eAYoB,EAAKxO,MAAMyN,aACxBG,MAAQtM,EAAKmN,MACzB,EAAKvO,SAAS,CACV4I,SAAS,EACTrJ,KAAM6B,EAAK7B,KACXgO,WAAYe,IAjBX,kDAoBL,EAAKtO,SAAS,EAAKV,gBApBd,yBAsBL,EAAKU,SAAS,CAAE4I,SAAS,IAtBpB,6EA0Bb,EAAK4F,YAAL,uCAAmB,WAAOhN,GAAP,SAAA6I,EAAA,sEAEX,EAAKrK,SAAS,CACVyO,UAAU,IAHH,SAKLC,YAAc,GAAD,OAAI,EAAK5O,MAAM8J,UAAf,YAA4BpI,IALpC,OAMX,EAAK0M,QANM,sEASX,EAAKlO,SAAS,CACVyO,UAAU,IAVH,0EAAnB,kCAAAvM,KAAA,eAeA,EAAKyM,mBAAqB,SAACC,GACvB,EAAK5O,SAAS,CACVgO,mBAAoBY,KAI5B,EAAKC,qBAAuB,WACxB,EAAK7O,SAAS,CACVgO,mBAAoB,QAI5B,EAAKc,QAAU,CACX,CACIhF,MAAO,IACPiF,MAAO,SACPC,UAAW,KACX9O,IAAK,KACL+O,QAAQ,EACR/L,MAAO,GACPgM,OAAQ,SAAC1P,GAAD,OAAW,uBAAGyD,MAAO,CAAEG,WAAY,eAAiB5D,KAEhE,CACIsK,MAAOwC,IAAKnE,EAAE,oBACd6G,UAAU,aACV9O,IAAI,aACJ6O,MAAO,QACPI,UAAU,EACVD,OAAQ,SAAC1P,GAAD,OAAW,uBAAGyD,MAAO,CAAEG,WAAY,eAAiB5D,EAAMqL,YAEtE,CACIf,MAAOwC,IAAKnE,EAAE,iBACd6G,UAAU,WACV9O,IAAI,WACJ6O,MAAO,QACPI,UAAU,GAEd,CACIrF,MAAOwC,IAAKnE,EAAE,gBACd6G,UAAU,WACV9O,IAAI,WACJ6O,MAAO,QACPI,UAAU,GAEd,CACIrF,MAAOwC,IAAKnE,EAAE,WACd8G,QAAQ,EACRF,MAAO,SACP7L,MAAO,IACPgM,OAAQ,SAACE,GAAD,OACJ,uBAAKhD,KAAM,GAAID,OAAQ,GACnB,uBAAKC,KAAM,IACP,kBAAC,EAAD,CAAS5K,GAAI4N,EAAO5N,GAAIuI,WAAY,EAAKmE,MAAOpE,MAAO,EAAKhK,MAAMqN,UAC9DvD,UAAW,EAAK9J,MAAM8J,UAAWI,WAAa,kBAACqF,EAAA,EAAD,SAEtD,uBAAKjD,KAAM,IACP,uBAAYkD,UAAU,SAASxF,MAAOwC,IAAKnE,EAAE,UAAY,IAAKoH,UAAW,kBAAM,EAAKf,YAAYY,EAAO5N,KACnGgO,OAAQlD,IAAKnE,EAAE,OACfsH,WAAYnD,IAAKnE,EAAE,OACnB,uBAAQsD,KAAM,kBAACiE,EAAA,EAAD,CAAczM,MAAO,CAC/B0M,MAAO,SAEPjE,MAAM,QACNrJ,UAAU,uBACVoF,KAAM,UACNmB,QAAS,EAAK9I,MAAM2O,iBAShD,EAAKmB,OAAStM,IAAMkI,YACpB,EAAKqE,QAAUvM,IAAMkI,YAErB,EAAKsE,cAAgB,WACjB,EAAKF,OAAOpF,QAAQuF,SAGxB,EAAKC,eAAL,uCAAsB,WAAOxO,GAAP,SAAA6I,EAAA,sEACZ,EAAKrK,SAAS,CAChB+N,eAAgBvM,IAFF,OAIlB,EAAKqO,QAAQrF,QAAQuF,QAJH,2CAAtB,kCAAA7N,KAAA,eAOA,EAAK+N,kBAAoB,SAAC1C,EAAY2C,EAASjB,GAC3C,IAAMkB,EAAK,eAAQ,EAAKrQ,MAAMyN,YAC9B4C,EAAM3F,QAAU+C,EAAW/C,QAC3B2F,EAAM3C,SAAWD,EAAWC,SAC5B,EAAKxN,SACD,CACIuN,WAAY4C,EACZrC,WAAYmB,IAEhB,kBAAM,EAAKf,YAInB,EAAKkC,oBAAsB,WACvB,EAAKlC,SAGT,EAAKmC,cAAgB/M,IAAMkI,YA7KZ,E,gEAiLftJ,KAAKgM,U,+BAGC,IAAD,SAGDhM,KAAKpC,MADLP,EAFC,EAEDA,KAAMgO,EAFL,EAEKA,WAAY3E,EAFjB,EAEiBA,QAASsE,EAF1B,EAE0BA,YAAatD,EAFvC,EAEuCA,UAFvC,EAEkDoE,mBAEvD,OACI,oCACI,uBAAK7B,OAAQ,CAAC,GAAI,KACd,uBAAKC,KAAM,IACP,uBACI0C,QAAS5M,KAAK4M,QACdwB,aAAa,SACbC,OAAQ,kBAAMC,OACdC,WAAYlR,EACZgO,WAAYA,EACZ3E,QAASA,EACT7I,SAAUmC,KAAK+N,kBACfnG,MAAO,kBACH,2BACI,uBAAKsC,KAAM,EAAGnJ,MAAO,CAAE+I,QAAS,SAAU,wBACtC/I,MAAO,CAAEyN,OAAQ,SAAWpE,IAAKnE,EAAEyB,IAAgB,uBAASnC,KAAM,WAAYxE,MAAO,CACjF0N,OAAQ,MACRD,OAAQ,eAEhB,uBAAK9P,OAAQ,GAAIwL,KAAM,GAAG,kBAAC,EAAD,CAASrC,WAAY,EAAKmE,MAAOpE,MAAOoD,EAC9DtD,UAAWA,EACXI,WAAa,kBAAC4G,EAAA,EAAD,eAMrC,uBAAGvO,UAAU,cACRiK,IAAKnE,EAAE,WACP,IACA5I,EAAKgF,OACL,IACA+H,IAAKnE,EAAE,QACP,IACAoF,EAAWG,Y,GA3NbpK,IAAMC,a,MAkOVsN,wBAAkB9D","file":"static/js/9.57792b35.chunk.js","sourcesContent":["/* eslint-disable react/destructuring-assignment */\r\nimport React from 'react';\r\nimport { Select, Spin, Empty } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\nimport getAgentInstance from '../../helpers/superagent';\r\n\r\nconst superagent = getAgentInstance();\r\n\r\nclass RemoteSelect extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.initialState = () => ({\r\n      data: [],\r\n      value: undefined,\r\n      initialValue: props.defaultValue || undefined,\r\n      fetching: false,\r\n      all: props.all ? props.all : false\r\n    });\r\n    this.state = this.initialState();\r\n\r\n    this.onChange = (value) => {\r\n      this.setState({ value });\r\n      try {\r\n        const v = value ? value.key : undefined;\r\n        const { onChange } = this.props;\r\n        onChange(value, v);\r\n        if (!value) {\r\n          this.loadData('');\r\n        }\r\n      } catch (e) {\r\n        //\r\n      }\r\n    };\r\n    this.resetValue = () => {\r\n      this.setState({ value: undefined });\r\n    };\r\n\r\n    this.onSearch = (searchQuery) => {\r\n      this.loadData(searchQuery);\r\n    };\r\n\r\n    this.loadData = debounce((searchQuery, endpoint = undefined) => {\r\n      this.setState({ fetching: true });\r\n      const params = {\r\n        limit: 100,\r\n        offset: 0,\r\n      };\r\n\r\n      if (searchQuery && searchQuery !== '') {\r\n        params.q = searchQuery;\r\n      }\r\n      superagent\r\n        .get(`${process.env.REACT_APP_API_URL}${endpoint || this.props.endpoint}`)\r\n        .query(params)\r\n        .end((err, res) => {\r\n          if (!err) {\r\n            const { body } = res;\r\n            const { exclude } = this.props;\r\n\r\n            let array = [];\r\n            if (exclude) {\r\n              const filtered = body.filter((value) => value.id !== exclude);\r\n              array = filtered;\r\n            } else array = body;\r\n\r\n            const options = [];\r\n            array.data.map((element) => {\r\n              options.push({\r\n                text:\r\n                  typeof this.props.optiontext === 'function'\r\n                    ? this.props.optiontext(element)\r\n                    : element.name,\r\n                value:\r\n                  typeof this.props.optionvalue === 'function'\r\n                    ? this.props.optionvalue(element)\r\n                    : element.id,\r\n              });\r\n              return null;\r\n            });\r\n            this.setState({ data: options, fetching: false });\r\n          } else {\r\n            this.setState({ data: [], fetching: false });\r\n          }\r\n        });\r\n    }, 800);\r\n\r\n    this.ref = props.ref;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.endpoint) this.loadData();\r\n  }\r\n\r\n  static getDerivedStateFromProps(props) {\r\n    if ('value' in props) {\r\n      const { value } = props;\r\n      return { value };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { fetching, data, value, initialValue, all } = this.state;\r\n    const {\r\n      placeholder, disabled, className, rtl,\r\n    } = this.props;\r\n    const textHolder = placeholder || '';\r\n    return (\r\n      <Select\r\n        allowClear={this.props.allowClear === undefined ? true : this.props.allowClear}\r\n        mode={this.props.mode || null}\r\n        showSearch\r\n        disabled={disabled}\r\n        labelInValue\r\n        value={value}\r\n        defaultValue={initialValue}\r\n        notFoundContent={\r\n          fetching ? (\r\n            <Spin size=\"small\" />\r\n          ) : (\r\n            <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\r\n          )\r\n        }\r\n        filterOption={false}\r\n        onSearch={this.onSearch}\r\n        onChange={this.onChange}\r\n        style={{ width: '100%' }}\r\n        placeholder={textHolder}\r\n        className={className || undefined}\r\n      >\r\n        {all && (<Select.Option key={-9} style={{ fontFamily: rtl ? 'Cuprumsemi' : undefined }}>All</Select.Option>)}\r\n        {data.map((d) => (\r\n          <Select.Option\r\n            key={d.value}\r\n            style={{ fontFamily: rtl ? 'Cuprumsemi' : undefined }}\r\n          >\r\n            {d.text}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RemoteSelect;\r\n","export default function toBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        }\r\n    )\r\n}\r\n","import '../../style/index.less';\nimport './index.less';","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nvar Switch = React.forwardRef(function (_ref, ref) {\n  var _classNames;\n\n  var _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-switch' : _ref$prefixCls,\n      className = _ref.className,\n      checked = _ref.checked,\n      defaultChecked = _ref.defaultChecked,\n      disabled = _ref.disabled,\n      loadingIcon = _ref.loadingIcon,\n      checkedChildren = _ref.checkedChildren,\n      unCheckedChildren = _ref.unCheckedChildren,\n      onClick = _ref.onClick,\n      onChange = _ref.onChange,\n      onKeyDown = _ref.onKeyDown,\n      restProps = _objectWithoutProperties(_ref, [\"prefixCls\", \"className\", \"checked\", \"defaultChecked\", \"disabled\", \"loadingIcon\", \"checkedChildren\", \"unCheckedChildren\", \"onClick\", \"onChange\", \"onKeyDown\"]);\n\n  var _useMergedState = useMergedState(false, {\n    value: checked,\n    defaultValue: defaultChecked\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      innerChecked = _useMergedState2[0],\n      setInnerChecked = _useMergedState2[1];\n\n  function triggerChange(newChecked, event) {\n    var mergedChecked = innerChecked;\n\n    if (!disabled) {\n      mergedChecked = newChecked;\n      setInnerChecked(mergedChecked);\n      onChange === null || onChange === void 0 ? void 0 : onChange(mergedChecked, event);\n    }\n\n    return mergedChecked;\n  }\n\n  function onInternalKeyDown(e) {\n    if (e.which === KeyCode.LEFT) {\n      triggerChange(false, e);\n    } else if (e.which === KeyCode.RIGHT) {\n      triggerChange(true, e);\n    }\n\n    onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n  }\n\n  function onInternalClick(e) {\n    var ret = triggerChange(!innerChecked, e); // [Legacy] trigger onClick with value\n\n    onClick === null || onClick === void 0 ? void 0 : onClick(ret, e);\n  }\n\n  var switchClassName = classNames(prefixCls, className, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-checked\"), innerChecked), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _classNames));\n  return React.createElement(\"button\", Object.assign({}, restProps, {\n    type: \"button\",\n    role: \"switch\",\n    \"aria-checked\": innerChecked,\n    disabled: disabled,\n    className: switchClassName,\n    ref: ref,\n    onKeyDown: onInternalKeyDown,\n    onClick: onInternalClick\n  }), loadingIcon, React.createElement(\"span\", {\n    className: \"\".concat(prefixCls, \"-inner\")\n  }, innerChecked ? checkedChildren : unCheckedChildren));\n});\nSwitch.displayName = 'Switch';\nexport default Switch;","import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcSwitch from 'rc-switch';\nimport classNames from 'classnames';\nimport LoadingOutlined from '@ant-design/icons/LoadingOutlined';\nimport Wave from '../_util/wave';\nimport { ConfigContext } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nvar Switch = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      customizeSize = _a.size,\n      loading = _a.loading,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      disabled = _a.disabled,\n      props = __rest(_a, [\"prefixCls\", \"size\", \"loading\", \"className\", \"disabled\"]);\n\n  devWarning('checked' in props || !('value' in props), 'Switch', '`value` is not a valid prop, do you mean `checked`?');\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var prefixCls = getPrefixCls('switch', customizePrefixCls);\n  var loadingIcon = /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-handle\")\n  }, loading && /*#__PURE__*/React.createElement(LoadingOutlined, {\n    className: \"\".concat(prefixCls, \"-loading-icon\")\n  }));\n  var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-small\"), (customizeSize || size) === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-loading\"), loading), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n  return /*#__PURE__*/React.createElement(Wave, {\n    insertExtraNode: true\n  }, /*#__PURE__*/React.createElement(RcSwitch, _extends({}, props, {\n    prefixCls: prefixCls,\n    className: classes,\n    disabled: disabled || loading,\n    ref: ref,\n    loadingIcon: loadingIcon\n  })));\n});\nSwitch.__ANT_SWITCH = true;\nSwitch.displayName = 'Switch';\nexport default Switch;","import React, { createRef } from \"react\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport i18n from \"../../i18n\";\r\nimport {\r\n  getRequest,\r\n  postRequest,\r\n  putRequest,\r\n} from \"../../helpers/superagentAPI\";\r\n\r\nimport {\r\n  Modal,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Divider,\r\n  Image,\r\n  InputNumber,\r\n  Checkbox,\r\n  Switch,\r\n} from \"antd\";\r\nimport toBase64 from \"../../helpers/toBase64\";\r\nimport RemoteSelect from \"../basic/RemoteSelect\";\r\n\r\nexport default class DBModel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialState = () => ({\r\n      id: props.id,\r\n      modelName: props.modelName,\r\n      modelTitle: props.title,\r\n      reloadGrid: props.reloadGrid,\r\n      buttonIcon: props.buttonIcon,\r\n      model: null,\r\n      isModalVisible: false,\r\n      plans: [],\r\n    });\r\n    this.state = this.initialState();\r\n    this.loadModel = async () => {\r\n      if (this.state.id) {\r\n        let data = await getRequest(`${this.state.modelName}/${this.state.id}`);\r\n        this.setState(\r\n          {\r\n            model: data,\r\n          },\r\n          () => {\r\n            if (this.modelFormRef.current) {\r\n              this.modelFormRef.current.setFieldsValue({\r\n                ...data,\r\n                subServiceId: {\r\n                  id: data.subServiceId,\r\n                  key: data.subServiceId,\r\n                  label: data.subService.headerEn,\r\n                },\r\n              });\r\n            }\r\n            this.setPlans(data.plans);\r\n          }\r\n        );\r\n      }\r\n    };\r\n\r\n    this.onFormFinished = async (values) => {\r\n      const { id, modelName, reloadGrid } = this.state;\r\n      const {\r\n        headerEn,\r\n        headerAr,\r\n\r\n        subServiceId,\r\n      } = values;\r\n      let form = {\r\n        headerEn,\r\n        headerAr,\r\n        plans: this.state.plans,\r\n        subServiceId: subServiceId.key,\r\n        id: id ? id : undefined,\r\n      };\r\n      await postRequest(modelName, form);\r\n      if (reloadGrid) reloadGrid();\r\n      this.closeModal();\r\n    };\r\n\r\n    this.showModal = () => {\r\n      this.setState(\r\n        {\r\n          isModalVisible: true,\r\n        },\r\n        async () => {\r\n          if (this.state.id) await this.loadModel();\r\n        }\r\n      );\r\n    };\r\n\r\n    this.closeModal = () => {\r\n      this.setState({\r\n        isModalVisible: false,\r\n      });\r\n    };\r\n\r\n    this.subServiceIdChanged = async (value) => {\r\n      if (value) {\r\n        const subServiceId = value.value;\r\n        let plans = await getRequest(\r\n          `SubServicePlan?pageSize=1000&page=0&subServiceId=${subServiceId}`\r\n        );\r\n        this.setPlans(plans.data);\r\n      }\r\n    };\r\n\r\n    this.setPlans = (data) => {\r\n      this.setState({\r\n        plans: data.map((d) => {\r\n          return {\r\n            ...d,\r\n            isIncluded: d.isIncluded === undefined ? 0 : d.isIncluded,\r\n          };\r\n        }),\r\n      });\r\n    };\r\n\r\n    this.modelFormRef = createRef();\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle, buttonIcon, plans, id } = this.state;\r\n    return (\r\n      <div style={{ width: \"100%\" }}>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={this.showModal}\r\n          icon={buttonIcon}\r\n          shape=\"round\"\r\n          className=\"btn_hover darkBlueBg\"\r\n          style={{ width: \"100%\" }}\r\n        ></Button>\r\n        {this.state.isModalVisible && (\r\n          <Modal\r\n            title={modelTitle}\r\n            visible={this.state.isModalVisible}\r\n            onCancel={this.closeModal}\r\n            width={\"85%\"}\r\n            okButtonProps={{\r\n              form: \"modelForm\",\r\n              htmlType: \"submit\",\r\n              className: \"darkBlueBg\",\r\n            }}\r\n            cancelButtonProps={{ style: { display: \"none\" } }}\r\n          >\r\n            <Form\r\n              id={\"modelForm\"}\r\n              ref={this.modelFormRef}\r\n              onFinish={this.onFormFinished}\r\n              style={{ marginTop: \"5%\" }}\r\n            >\r\n              <Row gutter={10}>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"headerEn\"}\r\n                    label={i18n.t(\"Title English\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"Input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"headerAr\"}\r\n                    label={i18n.t(\"Title Arabic\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"Input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"subServiceId\"}\r\n                    label={i18n.t(\"Select Sub Service\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"Input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <RemoteSelect\r\n                      endpoint=\"SubService?page=0&pageSize=1000\"\r\n                      placeholder={i18n.t(\"subServiceId\")}\r\n                      allowClear={false}\r\n                      optiontext={(obj) => obj.headerEn}\r\n                      onChange={(value) => this.subServiceIdChanged(value)}\r\n                    />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n            {plans.length != 0 && (\r\n              <table\r\n                style={{\r\n                  width: \"100%\",\r\n                }}\r\n              >\r\n                <thead>\r\n                  <tr>\r\n                    <th>Plan Name</th>\r\n                    <th>Include</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {plans.map((p, index) => (\r\n                    <>\r\n                      <tr key={index}>\r\n                        <td>{p.headerEn}</td>\r\n                        <td>\r\n                          <Switch\r\n                            checked={p.isIncluded}\r\n                            onChange={(value) => {\r\n                              let newPlans = [...this.state.plans];\r\n                              newPlans[index].isIncluded = value ? 1 : 0;\r\n                              this.setState({\r\n                                plans: newPlans,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          <Input\r\n                            value={p.text}\r\n                            onChange={(value) => {\r\n                              let newPlans = [...this.state.plans];\r\n                              newPlans[index].text = value.target.value;\r\n                              this.setState({\r\n                                plans: newPlans,\r\n                              });\r\n                            }}\r\n                          />\r\n                        </td>\r\n                      </tr>\r\n                    </>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            )}\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable camelcase */\r\n/* eslint-disable react/no-access-state-in-setstate */\r\n/* eslint-disable react/destructuring-assignment */\r\nimport React from 'react';\r\nimport {\r\n    Table,\r\n    Button,\r\n    Row,\r\n    Col,\r\n    Form,\r\n    Select,\r\n    Switch,\r\n    Input,\r\n    Divider, Popconfirm,\r\n    Modal\r\n} from 'antd';\r\nimport {\r\n    CheckOutlined,\r\n    CloseOutlined,\r\n    RedoOutlined,\r\n    PlusOutlined,\r\n    EditOutlined, DeleteFilled,\r\n    LineOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { observer, inject } from 'mobx-react';\r\nimport { withTranslation } from 'react-i18next';\r\nimport uniqid from 'uniqid';\r\nimport moment from 'moment';\r\nimport qs from 'qs';\r\nimport i18n from '../../i18n';\r\nimport './model.css';\r\nimport DBModel from \"./DBModel\"\r\nimport getAgentInstance from '../../helpers/superagent'\r\nimport { deleteRequest, getRequest, putRequest } from '../../helpers/superagentAPI'\r\nimport RemoteSelect from \"../basic/RemoteSelect\";\r\n\r\nconst superagent = getAgentInstance();\r\n\r\nconst pageSizeOptions = ['8', '15', '20', '30', '40'];\r\n\r\n@inject('userStore')\r\n@observer\r\nclass List extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = () => ({\r\n            modelName: 'SubServiceBenifites',\r\n            createTitle: i18n.t('New Record'),\r\n            editTitle: i18n.t('Edit Record'),\r\n            data: [],\r\n            loading: false,\r\n            type_name: undefined,\r\n            selectedPackageId: -1,\r\n            selectedUserId: -1,\r\n            pagination: {\r\n                pageSize: parseInt(pageSizeOptions[0], 10),\r\n                pageSizeOptions,\r\n                current: 1,\r\n                total: 0,\r\n                showSizeChanger: true,\r\n                hideOnSinglePage: false,\r\n                showQuickJumper: true,\r\n            },\r\n            sortedInfo: null,\r\n            editResourceId: undefined,\r\n            activityForDetails: null,\r\n            access: []//JSON.parse(this.props.userStore.value.privilege),\r\n        });\r\n        this.state = this.initialState();\r\n\r\n        this.fetch = async () => {\r\n            this.setState({ loading: true });\r\n            const { pagination, modelName } = this.state;\r\n\r\n            const params = {\r\n                pageSize: pagination.pageSize,\r\n                page: pagination.current - 1,\r\n            };\r\n\r\n            try {\r\n                this.setState({ loading: true })\r\n                let body = await getRequest(`${modelName}?${qs.stringify(params)}`)\r\n                const tpagination = { ...this.state.pagination };\r\n                tpagination.total = body.count;\r\n                this.setState({\r\n                    loading: false,\r\n                    data: body.data,\r\n                    pagination: tpagination,\r\n                });\r\n            } catch (error) {\r\n                this.setState(this.initialState())\r\n            } finally {\r\n                this.setState({ loading: false })\r\n            }\r\n        };\r\n\r\n        this.deleteModel = async (id) => {\r\n            try {\r\n                this.setState({\r\n                    deleting: true\r\n                })\r\n                await deleteRequest(`${this.state.modelName}/${id}`)\r\n                this.fetch()\r\n            } catch (error) {\r\n            } finally {\r\n                this.setState({\r\n                    deleting: false\r\n                })\r\n            }\r\n        }\r\n\r\n        this.showActivityDetail = (activity) => {\r\n            this.setState({\r\n                activityForDetails: activity\r\n            })\r\n        }\r\n\r\n        this.closeActivityDetails = () => {\r\n            this.setState({\r\n                activityForDetails: null\r\n            })\r\n        }\r\n\r\n        this.columns = [\r\n            {\r\n                title: '#',\r\n                align: 'center',\r\n                dataIndex: 'id',\r\n                key: 'id',\r\n                sorter: true,\r\n                width: 70,\r\n                render: (value) => <p style={{ fontFamily: 'Cuprumsemi' }}>{value}</p>,\r\n            },\r\n            {\r\n                title: i18n.t('Sub Service Name'),\r\n                dataIndex: `subService`,\r\n                key: `subService`,\r\n                align: 'start',\r\n                ellipsis: true,\r\n                render: (value) => <p style={{ fontFamily: 'Cuprumsemi' }}>{value.headerEn}</p>,\r\n            },\r\n            {\r\n                title: i18n.t('Title English'),\r\n                dataIndex: `headerEn`,\r\n                key: `headerEn`,\r\n                align: 'start',\r\n                ellipsis: true\r\n            },\r\n            {\r\n                title: i18n.t('Title Arabic'),\r\n                dataIndex: `headerAr`,\r\n                key: `headerAr`,\r\n                align: 'start',\r\n                ellipsis: true\r\n            },\r\n            {\r\n                title: i18n.t('Actions'),\r\n                sorter: false,\r\n                align: 'center',\r\n                width: 160,\r\n                render: (object) => (\r\n                    <Row span={24} gutter={5}>\r\n                        <Col span={12}>\r\n                            <DBModel id={object.id} reloadGrid={this.fetch} title={this.state.editTitle}\r\n                                modelName={this.state.modelName} buttonIcon={(<EditOutlined />)} />\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <Popconfirm placement=\"bottom\" title={i18n.t('delete') + '?'} onConfirm={() => this.deleteModel(object.id)}\r\n                                okText={i18n.t('Yes')}\r\n                                cancelText={i18n.t('No')}>\r\n                                <Button icon={<DeleteFilled style={{\r\n                                    color: 'red'\r\n                                }} />}\r\n                                    shape=\"round\"\r\n                                    className=\"btn_hover darkBlueBg\"\r\n                                    type={'primary'}\r\n                                    loading={this.state.deleting} />\r\n                            </Popconfirm>\r\n                        </Col>\r\n                    </Row>\r\n                ),\r\n            },\r\n        ];\r\n\r\n        // custom refs\r\n        this.newBtn = React.createRef();\r\n        this.editBtn = React.createRef();\r\n\r\n        this.newBtnClicked = () => {\r\n            this.newBtn.current.click();\r\n        };\r\n\r\n        this.editBtnClicked = async (id) => {\r\n            await this.setState({\r\n                editResourceId: id,\r\n            });\r\n            this.editBtn.current.click();\r\n        };\r\n\r\n        this.handleTableChange = (pagination, filters, sorter) => {\r\n            const pager = { ...this.state.pagination };\r\n            pager.current = pagination.current;\r\n            pager.pageSize = pagination.pageSize;\r\n            this.setState(\r\n                {\r\n                    pagination: pager,\r\n                    sortedInfo: sorter,\r\n                },\r\n                () => this.fetch(),\r\n            );\r\n        };\r\n\r\n        this.categoryNameChanged = () => {\r\n            this.fetch()\r\n        }\r\n\r\n        this.filterFormRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetch();\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            data, pagination, loading, createTitle, modelName, activityForDetails\r\n        } = this.state;\r\n        return (\r\n            <>\r\n                <Row gutter={[10, 10]}>\r\n                    <Col span={24}>\r\n                        <Table\r\n                            columns={this.columns}\r\n                            rowClassName=\"tb_row\"\r\n                            rowKey={() => uniqid()}\r\n                            dataSource={data}\r\n                            pagination={pagination}\r\n                            loading={loading}\r\n                            onChange={this.handleTableChange}\r\n                            title={() => (\r\n                                <Row>\r\n                                    <Col span={4} style={{ display: 'flex' }}><h2\r\n                                        style={{ margin: 'auto' }}>{i18n.t(modelName)}</h2><Divider type={'vertical'} style={{\r\n                                            height: '80%',\r\n                                            margin: 'auto 10%'\r\n                                        }} /></Col>\r\n                                    <Col offset={16} span={4}><DBModel reloadGrid={this.fetch} title={createTitle}\r\n                                        modelName={modelName}\r\n                                        buttonIcon={(<PlusOutlined />)} /></Col>\r\n                                </Row>\r\n                            )}\r\n                        />\r\n                    </Col>\r\n                </Row>\r\n                <p className=\"pager-Info\">\r\n                    {i18n.t('Showing')}\r\n                    {' '}\r\n                    {data.length}\r\n                    {' '}\r\n                    {i18n.t('from')}\r\n                    {' '}\r\n                    {pagination.total}\r\n                </p>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withTranslation()(List);\r\n"],"sourceRoot":""}