(this["webpackJsonpdr-online-dr-portal"]=this["webpackJsonpdr-online-dr-portal"]||[]).push([[8],{441:function(e,t,a){"use strict";a(222);var n=a(172),r=(a(223),a(88)),i=(a(221),a(173)),l=a(58),c=a(59),o=a(74),s=a(73),u=a(0),d=a.n(u),m=a(174),f=a.n(m),p=a(75),h=Object(p.a)(),v=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this)).initialState=function(){return{data:[],value:void 0,initialValue:e.defaultValue||void 0,fetching:!1,all:!!e.all&&e.all}},n.state=n.initialState(),n.onChange=function(e){n.setState({value:e});try{var t=e?e.key:void 0;(0,n.props.onChange)(e,t),e||n.loadData("")}catch(a){}},n.resetValue=function(){n.setState({value:void 0})},n.onSearch=function(e){n.loadData(e)},n.loadData=f()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n.setState({fetching:!0});var a={limit:100,offset:0};e&&""!==e&&(a.q=e),h.get("".concat("http://localhost:3010/").concat(t||n.props.endpoint)).query(a).end((function(e,t){if(e)n.setState({data:[],fetching:!1});else{var a=t.body,r=n.props.exclude,i=[];if(r)i=a.filter((function(e){return e.id!==r}));else i=a;var l=[];i.data.map((function(e){return l.push({text:"function"===typeof n.props.optiontext?n.props.optiontext(e):e.name,value:"function"===typeof n.props.optionvalue?n.props.optionvalue(e):e.id}),null})),n.setState({data:l,fetching:!1})}}))}),800),n.ref=e.ref,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.endpoint&&this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.fetching,a=e.data,l=e.value,c=e.initialValue,o=e.all,s=this.props,u=s.placeholder,m=s.disabled,f=s.className,p=s.rtl,h=u||"";return d.a.createElement(n.a,{allowClear:void 0===this.props.allowClear||this.props.allowClear,mode:this.props.mode||null,showSearch:!0,disabled:m,labelInValue:!0,value:l,defaultValue:c,notFoundContent:t?d.a.createElement(i.a,{size:"small"}):d.a.createElement(r.a,{image:r.a.PRESENTED_IMAGE_SIMPLE}),filterOption:!1,onSearch:this.onSearch,onChange:this.onChange,style:{width:"100%"},placeholder:h,className:f||void 0},o&&d.a.createElement(n.a.Option,{key:-9,style:{fontFamily:p?"Cuprumsemi":void 0}},"All"),a.map((function(e){return d.a.createElement(n.a.Option,{key:e.value,style:{fontFamily:p?"Cuprumsemi":void 0}},e.text)})))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),a}(d.a.Component);t.a=v},443:function(e,t,a){"use strict";function n(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}a.d(t,"a",(function(){return n}))},457:function(e,t,a){"use strict";a(39),a(460)},458:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},459:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(3),l=a.n(i),c=a(0),o=a(6),s=a(5),u=a(18),d=a(4),m=a.n(d),f=a(89),p=a(13),h=c.forwardRef((function(e,t){var a,n=e.prefixCls,r=void 0===n?"rc-switch":n,i=e.className,l=e.checked,d=e.defaultChecked,h=e.disabled,v=e.loadingIcon,b=e.checkedChildren,g=e.unCheckedChildren,y=e.onClick,S=e.onChange,E=e.onKeyDown,w=Object(u.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),O=Object(f.a)(!1,{value:l,defaultValue:d}),k=Object(s.a)(O,2),j=k[0],C=k[1];function x(e,t){var a=j;return h||(C(a=e),null===S||void 0===S||S(a,t)),a}var I=m()(r,i,(a={},Object(o.a)(a,"".concat(r,"-checked"),j),Object(o.a)(a,"".concat(r,"-disabled"),h),a));return c.createElement("button",Object.assign({},w,{type:"button",role:"switch","aria-checked":j,disabled:h,className:I,ref:t,onKeyDown:function(e){e.which===p.a.LEFT?x(!1,e):e.which===p.a.RIGHT&&x(!0,e),null===E||void 0===E||E(e)},onClick:function(e){var t=x(!j,e);null===y||void 0===y||y(t,e)}}),v,c.createElement("span",{className:"".concat(r,"-inner")},j?b:g))}));h.displayName="Switch";var v=h,b=a(54),g=a.n(b),y=a(176),S=a(61),E=a(46),w=a(24),O=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},k=c.forwardRef((function(e,t){var a,n=e.prefixCls,i=e.size,o=e.loading,s=e.className,u=void 0===s?"":s,d=e.disabled,f=O(e,["prefixCls","size","loading","className","disabled"]);Object(w.a)("checked"in f||!("value"in f),"Switch","`value` is not a valid prop, do you mean `checked`?");var p=c.useContext(S.b),h=p.getPrefixCls,b=p.direction,k=c.useContext(E.b),j=h("switch",n),C=c.createElement("div",{className:"".concat(j,"-handle")},o&&c.createElement(g.a,{className:"".concat(j,"-loading-icon")})),x=m()((a={},l()(a,"".concat(j,"-small"),"small"===(i||k)),l()(a,"".concat(j,"-loading"),o),l()(a,"".concat(j,"-rtl"),"rtl"===b),a),u);return c.createElement(y.a,{insertExtraNode:!0},c.createElement(v,r()({},f,{prefixCls:j,className:x,disabled:d||o,ref:t,loadingIcon:C})))}));k.__ANT_SWITCH=!0,k.displayName="Switch";t.a=k},460:function(e,t,a){},626:function(e,t,a){},652:function(e,t,a){"use strict";a.r(t);a(453);var n,r=a(452),i=(a(444),a(445)),l=(a(116),a(45)),c=(a(448),a(451)),o=(a(99),a(40)),s=(a(117),a(30)),u=a(43),d=a.n(u),m=a(447),f=a(64),p=a(58),h=a(59),v=a(74),b=a(73),g=a(0),y=a.n(g),S=a(418),E=a(654),w=a(655),O=a(60),k=a(415),j=a(449),C=a.n(j),x=(a(450),a(225)),I=a.n(x),N=a(9),F=(a(626),a(171),a(119)),T=(a(457),a(459)),A=a(458),B=(a(224),a(120)),M=(a(226),a(153)),R=a(118),D=(a(443),a(441),function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).initialState=function(){return{id:e.id,modelName:e.modelName,modelTitle:e.title,reloadGrid:e.reloadGrid,buttonIcon:e.buttonIcon,model:null,isModalVisible:!1,plans:[]}},n.state=n.initialState(),n.loadModel=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.id){e.next=5;break}return e.next=3,Object(R.b)("".concat(n.state.modelName,"/").concat(n.state.id));case 3:t=e.sent,n.setState({model:t},(function(){n.modelFormRef.current&&n.modelFormRef.current.setFieldsValue(Object(m.a)({},t)),n.setPlans(t.plans)}));case 5:case"end":return e.stop()}}),e)}))),n.onFormFinished=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,r,i,l,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.state,r=a.id,i=a.modelName,l=a.reloadGrid,c=t.headerEn,o=t.headerAr,s={headerEn:c,headerAr:o,plans:n.state.plans,isWithoutSubService:1,id:r||void 0},e.next=5,Object(R.c)(i,s);case 5:l&&l(),n.closeModal();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.showModal=function(){n.setState({isModalVisible:!0},Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.id){e.next=3;break}return e.next=3,n.loadModel();case 3:case"end":return e.stop()}}),e)}))))},n.closeModal=function(){n.setState({isModalVisible:!1})},n.setPlans=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.b)("SubServicePlan?pageSize=1000&page=0&withoutSubService=1&benefitId=".concat(n.state.id));case 2:a=(a=e.sent).data.map((function(e){return{id:e.id,headerEn:e.headerEn,isIncluded:0!=e.SubServiceBenefite.length&&e.SubServiceBenefite[0].isIncluded,text:0!=e.SubServiceBenefite.length?e.SubServiceBenefite[0].text:""}})),n.setState({plans:a.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{isIncluded:void 0===e.isIncluded?0:e.isIncluded})}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.modelFormRef=Object(g.createRef)(),n}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.modelTitle,n=t.buttonIcon,r=t.plans;t.id;return y.a.createElement("div",{style:{width:"100%"}},y.a.createElement(o.a,{type:"primary",onClick:this.showModal,icon:n,shape:"round",className:"btn_hover darkBlueBg",style:{width:"100%"}}),this.state.isModalVisible&&y.a.createElement(F.a,{title:a,visible:this.state.isModalVisible,onCancel:this.closeModal,width:"85%",okButtonProps:{form:"modelForm",htmlType:"submit",className:"darkBlueBg"},cancelButtonProps:{style:{display:"none"}}},y.a.createElement(B.a,{id:"modelForm",ref:this.modelFormRef,onFinish:this.onFormFinished,style:{marginTop:"5%"}},y.a.createElement(l.a,{gutter:10},y.a.createElement(s.a,{span:24},y.a.createElement(B.a.Item,{name:"headerEn",label:N.a.t("Title English"),rules:[{required:!0,message:N.a.t("Input is required")}]},y.a.createElement(M.a,null))),y.a.createElement(s.a,{span:24},y.a.createElement(B.a.Item,{name:"headerAr",label:N.a.t("Title Arabic"),rules:[{required:!0,message:N.a.t("Input is required")}]},y.a.createElement(M.a,null))))),0!=r.length&&y.a.createElement("table",{style:{width:"100%"}},y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",null,"Plan Name"),y.a.createElement("th",null,"Include"))),y.a.createElement("tbody",null,r.map((function(t,a){return y.a.createElement(y.a.Fragment,null,y.a.createElement("tr",{key:a},y.a.createElement("td",null,t.headerEn),y.a.createElement("td",null,y.a.createElement(T.a,{checked:t.isIncluded,onChange:function(t){var n=Object(A.a)(e.state.plans);n[a].isIncluded=t?1:0,e.setState({plans:n})}})),y.a.createElement("td",null,y.a.createElement(M.a,{value:t.text,onChange:function(t){var n=Object(A.a)(e.state.plans);n[a].text=t.target.value,e.setState({plans:n})}}))))}))))))}}]),a}(y.a.Component)),P=a(75),V=(Object(P.a)(),["8","15","20","30","40"]),z=Object(O.b)("userStore")(n=Object(O.c)(n=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).initialState=function(){return{modelName:"SubServiceBenifites",createTitle:N.a.t("New Record"),editTitle:N.a.t("Edit Record"),data:[],loading:!1,type_name:void 0,selectedPackageId:-1,selectedUserId:-1,pagination:{pageSize:parseInt(V[0],10),pageSizeOptions:V,current:1,total:0,showSizeChanger:!0,hideOnSinglePage:!1,showQuickJumper:!0},sortedInfo:null,editResourceId:void 0,activityForDetails:null,access:[]}},n.state=n.initialState(),n.fetch=Object(f.a)(d.a.mark((function e(){var t,a,r,i,l,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),t=n.state,a=t.pagination,r=t.modelName,i={pageSize:a.pageSize,page:a.current-1,withoutSubService:1},e.prev=3,n.setState({loading:!0}),e.next=7,Object(R.b)("".concat(r,"?").concat(I.a.stringify(i)));case 7:l=e.sent,(c=Object(m.a)({},n.state.pagination)).total=l.count,n.setState({loading:!1,data:l.data,pagination:c}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),n.setState(n.initialState());case 16:return e.prev=16,n.setState({loading:!1}),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])}))),n.deleteModel=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({deleting:!0}),e.next=4,Object(R.a)("".concat(n.state.modelName,"/").concat(t));case 4:n.fetch(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,n.setState({deleting:!1}),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(t){return e.apply(this,arguments)}}(),n.showActivityDetail=function(e){n.setState({activityForDetails:e})},n.closeActivityDetails=function(){n.setState({activityForDetails:null})},n.columns=[{title:"#",align:"center",dataIndex:"id",key:"id",sorter:!0,width:70,render:function(e){return y.a.createElement("p",{style:{fontFamily:"Cuprumsemi"}},e)}},{title:N.a.t("Title English"),dataIndex:"headerEn",key:"headerEn",align:"start",ellipsis:!0},{title:N.a.t("Title Arabic"),dataIndex:"headerAr",key:"headerAr",align:"start",ellipsis:!0},{title:N.a.t("Actions"),sorter:!1,align:"center",width:160,render:function(e){return y.a.createElement(l.a,{span:24,gutter:5},y.a.createElement(s.a,{span:12},y.a.createElement(D,{id:e.id,reloadGrid:n.fetch,title:n.state.editTitle,modelName:n.state.modelName,buttonIcon:y.a.createElement(S.a,null)})),y.a.createElement(s.a,{span:12},y.a.createElement(c.a,{placement:"bottom",title:N.a.t("delete")+"?",onConfirm:function(){return n.deleteModel(e.id)},okText:N.a.t("Yes"),cancelText:N.a.t("No")},y.a.createElement(o.a,{icon:y.a.createElement(E.a,{style:{color:"red"}}),shape:"round",className:"btn_hover darkBlueBg",type:"primary",loading:n.state.deleting}))))}}],n.newBtn=y.a.createRef(),n.editBtn=y.a.createRef(),n.newBtnClicked=function(){n.newBtn.current.click()},n.editBtnClicked=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({editResourceId:t});case 2:n.editBtn.current.click();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleTableChange=function(e,t,a){var r=Object(m.a)({},n.state.pagination);r.current=e.current,r.pageSize=e.pageSize,n.setState({pagination:r,sortedInfo:a},(function(){return n.fetch()}))},n.categoryNameChanged=function(){n.fetch()},n.filterFormRef=y.a.createRef(),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.fetch()}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.pagination,c=t.loading,o=t.createTitle,u=t.modelName;t.activityForDetails;return y.a.createElement(y.a.Fragment,null,y.a.createElement(l.a,{gutter:[10,10]},y.a.createElement(s.a,{span:24},y.a.createElement(r.a,{columns:this.columns,rowClassName:"tb_row",rowKey:function(){return C()()},dataSource:a,pagination:n,loading:c,onChange:this.handleTableChange,title:function(){return y.a.createElement(l.a,null,y.a.createElement(s.a,{span:4,style:{display:"flex"}},y.a.createElement("h2",{style:{margin:"auto"}},N.a.t(u)),y.a.createElement(i.a,{type:"vertical",style:{height:"80%",margin:"auto 10%"}})),y.a.createElement(s.a,{offset:16,span:4},y.a.createElement(D,{reloadGrid:e.fetch,title:o,modelName:u,buttonIcon:y.a.createElement(w.a,null)})))}}))),y.a.createElement("p",{className:"pager-Info"},N.a.t("Showing")," ",a.length," ",N.a.t("from")," ",n.total))}}]),a}(y.a.Component))||n)||n;t.default=Object(k.a)()(z)}}]);
//# sourceMappingURL=8.ec87f252.chunk.js.map