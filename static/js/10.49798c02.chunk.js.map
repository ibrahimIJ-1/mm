{"version":3,"sources":["components/basic/RemoteSelect.jsx","helpers/toBase64.js","components/basic/Modal.jsx","components/AboutVideo/DBModel.jsx","components/AboutVideo/List.jsx"],"names":["superagent","getAgentInstance","RemoteSelect","props","initialState","data","value","undefined","initialValue","defaultValue","fetching","all","state","onChange","setState","v","key","loadData","e","resetValue","onSearch","searchQuery","debounce","endpoint","params","limit","offset","q","get","process","query","end","err","res","body","exclude","array","filter","id","options","map","element","push","text","optiontext","name","optionvalue","ref","this","placeholder","disabled","className","rtl","textHolder","allowClear","mode","showSearch","labelInValue","notFoundContent","size","image","PRESENTED_IMAGE_SIMPLE","filterOption","style","width","Option","fontFamily","d","React","Component","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","DBModel","modelName","modelTitle","title","reloadGrid","buttonIcon","model","isModalVisible","imagePreview","selectImageFile","loadModel","a","getRequest","icon","modelFormRef","current","setFieldsValue","headerEn","headerAr","descriptionEn","descriptionAr","youtube","imageFileChanged","files","document","getElementById","length","imageBase64","onFormFinished","values","formData","FormData","append","postRequest","closeModal","showModal","createRef","type","onClick","shape","visible","onCancel","okButtonProps","form","htmlType","cancelButtonProps","display","onFinish","marginTop","gutter","span","Item","label","i18n","t","rules","required","message","accept","websiteImageFileRef","TextArea","pageSizeOptions","List","inject","observer","createTitle","editTitle","loading","type_name","selectedPackageId","selectedUserId","pagination","pageSize","parseInt","total","showSizeChanger","hideOnSinglePage","showQuickJumper","sortedInfo","editResourceId","access","fetch","filters","page","qs","stringify","tpagination","count","deleteModel","deleting","deleteRequest","columns","align","dataIndex","sorter","render","ellipsis","object","EditOutlined","placement","onConfirm","okText","cancelText","DeleteFilled","color","newBtn","editBtn","newBtnClicked","click","editBtnClicked","handleTableChange","pager","categoryNameChanged","filterFormRef","rowClassName","rowKey","uniqid","dataSource","margin","height","PlusOutlined","withTranslation"],"mappings":"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","file":"static/js/10.49798c02.chunk.js","sourcesContent":["/* eslint-disable react/destructuring-assignment */\r\nimport React from 'react';\r\nimport { Select, Spin, Empty } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\nimport getAgentInstance from '../../helpers/superagent';\r\n\r\nconst superagent = getAgentInstance();\r\n\r\nclass RemoteSelect extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n    this.initialState = () => ({\r\n      data: [],\r\n      value: undefined,\r\n      initialValue: props.defaultValue || undefined,\r\n      fetching: false,\r\n      all: props.all ? props.all : false\r\n    });\r\n    this.state = this.initialState();\r\n\r\n    this.onChange = (value) => {\r\n      this.setState({ value });\r\n      try {\r\n        const v = value ? value.key : undefined;\r\n        const { onChange } = this.props;\r\n        onChange(value, v);\r\n        if (!value) {\r\n          this.loadData('');\r\n        }\r\n      } catch (e) {\r\n        //\r\n      }\r\n    };\r\n    this.resetValue = () => {\r\n      this.setState({ value: undefined });\r\n    };\r\n\r\n    this.onSearch = (searchQuery) => {\r\n      this.loadData(searchQuery);\r\n    };\r\n\r\n    this.loadData = debounce((searchQuery, endpoint = undefined) => {\r\n      this.setState({ fetching: true });\r\n      const params = {\r\n        limit: 100,\r\n        offset: 0,\r\n      };\r\n\r\n      if (searchQuery && searchQuery !== '') {\r\n        params.q = searchQuery;\r\n      }\r\n      superagent\r\n        .get(`${process.env.REACT_APP_API_URL}${endpoint || this.props.endpoint}`)\r\n        .query(params)\r\n        .end((err, res) => {\r\n          if (!err) {\r\n            const { body } = res;\r\n            const { exclude } = this.props;\r\n\r\n            let array = [];\r\n            if (exclude) {\r\n              const filtered = body.filter((value) => value.id !== exclude);\r\n              array = filtered;\r\n            } else array = body;\r\n\r\n            const options = [];\r\n            array.data.map((element) => {\r\n              options.push({\r\n                text:\r\n                  typeof this.props.optiontext === 'function'\r\n                    ? this.props.optiontext(element)\r\n                    : element.name,\r\n                value:\r\n                  typeof this.props.optionvalue === 'function'\r\n                    ? this.props.optionvalue(element)\r\n                    : element.id,\r\n              });\r\n              return null;\r\n            });\r\n            this.setState({ data: options, fetching: false });\r\n          } else {\r\n            this.setState({ data: [], fetching: false });\r\n          }\r\n        });\r\n    }, 800);\r\n\r\n    this.ref = props.ref;\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.endpoint) this.loadData();\r\n  }\r\n\r\n  static getDerivedStateFromProps(props) {\r\n    if ('value' in props) {\r\n      const { value } = props;\r\n      return { value };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    const { fetching, data, value, initialValue, all } = this.state;\r\n    const {\r\n      placeholder, disabled, className, rtl,\r\n    } = this.props;\r\n    const textHolder = placeholder || '';\r\n    return (\r\n      <Select\r\n        allowClear={this.props.allowClear === undefined ? true : this.props.allowClear}\r\n        mode={this.props.mode || null}\r\n        showSearch\r\n        disabled={disabled}\r\n        labelInValue\r\n        value={value}\r\n        defaultValue={initialValue}\r\n        notFoundContent={\r\n          fetching ? (\r\n            <Spin size=\"small\" />\r\n          ) : (\r\n            <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} />\r\n          )\r\n        }\r\n        filterOption={false}\r\n        onSearch={this.onSearch}\r\n        onChange={this.onChange}\r\n        style={{ width: '100%' }}\r\n        placeholder={textHolder}\r\n        className={className || undefined}\r\n      >\r\n        {all && (<Select.Option key={-9} style={{ fontFamily: rtl ? 'Cuprumsemi' : undefined }}>All</Select.Option>)}\r\n        {data.map((d) => (\r\n          <Select.Option\r\n            key={d.value}\r\n            style={{ fontFamily: rtl ? 'Cuprumsemi' : undefined }}\r\n          >\r\n            {d.text}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RemoteSelect;\r\n","export default function toBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        }\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Modal } from 'antd';\r\n\r\nclass CustomModal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialState = () => ({\r\n      visible: false,\r\n    });\r\n    this.state = this.initialState();\r\n\r\n    this.show = () => this.setState({ visible: true });\r\n    (this.close = () => this.setState({ visible: false })),\r\n    (this.onOk = props.onOk ? props.onOk : () => {});\r\n    this.onCancel = props.onCancel\r\n      ? props.onCancel\r\n      : () => this.setState({ visible: false });\r\n    this.emptyJsx = () => <span />;\r\n  }\r\n\r\n  componentDidMount() {\r\n    try {\r\n      const {\r\n        show, close, onOk, onCancel,\r\n      } = this;\r\n      this.props.onMount(show, close, onOk, onCancel, this);\r\n    } catch (e) {}\r\n  }\r\n\r\n  render() {\r\n    const { visible } = this.state;\r\n    const {\r\n      show, close, onOk, onCancel,\r\n    } = this;\r\n    const {\r\n      btnRef, header, footer, size, maskClosable, nameOfClass,\r\n    } = this.props;\r\n    return (\r\n      <>\r\n        <div>\r\n          <style>\r\n            {`\r\n\r\n            .modal-lg{\r\n              width: 85% !important;\r\n            }\r\n            .modal-md{\r\n              width: 65% !important;\r\n            }\r\n            .modal-sm{\r\n              width: 45% !important;\r\n            }\r\n            .custom-modal .ant-modal-content{\r\n              overflow: auto !important;\r\n            }\r\n            .custom-modal{\r\n              margin-top: 2% !important;\r\n            }\r\n            .custom-modal .ant-modal-content .ant-modal-body{\r\n              min-height: 200px;\r\n              height: 100% !important;\r\n              margin-bottom: 25px !important;\r\n            }\r\n        `}\r\n\r\n          </style>\r\n          <button onClick={show} style={{ display: 'none' }} ref={btnRef} />\r\n        </div>\r\n        <Modal\r\n          maskClosable={maskClosable | false}\r\n          className={`${size} custom-modal ${nameOfClass}`}\r\n          centered\r\n          visible={visible}\r\n          title={header}\r\n          onOk={onOk}\r\n          onCancel={onCancel}\r\n          footer={footer | this.emptyJsx}\r\n        >\r\n          {visible\r\n            ? React.cloneElement(this.props.children, {\r\n              modal: {\r\n                show,\r\n                close,\r\n                onOk,\r\n                onCancel,\r\n              },\r\n            })\r\n            : null}\r\n          {/* { this.props.children} */}\r\n        </Modal>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default CustomModal;\r\n","import React, { createRef } from \"react\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport i18n from \"../../i18n\";\r\nimport {\r\n  getRequest,\r\n  postRequest,\r\n  putRequest,\r\n} from \"../../helpers/superagentAPI\";\r\n\r\nimport { Modal, Button, Form, Input, Row, Col, Divider, Image } from \"antd\";\r\nimport toBase64 from \"../../helpers/toBase64\";\r\n\r\nexport default class DBModel extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialState = () => ({\r\n      id: props.id,\r\n      modelName: props.modelName,\r\n      modelTitle: props.title,\r\n      reloadGrid: props.reloadGrid,\r\n      buttonIcon: props.buttonIcon,\r\n      model: null,\r\n      isModalVisible: false,\r\n      imagePreview: \"\",\r\n      selectImageFile: null,\r\n    });\r\n    this.state = this.initialState();\r\n    this.loadModel = async () => {\r\n      if (this.state.id) {\r\n        let data = await getRequest(`${this.state.modelName}/${this.state.id}`);\r\n        this.setState(\r\n          {\r\n            model: data,\r\n            imagePreview: `${process.env.REACT_APP_API_URL}${data.icon}`,\r\n          },\r\n          () => {\r\n            if (this.modelFormRef.current) {\r\n              this.modelFormRef.current.setFieldsValue({\r\n                headerEn: data.headerEn,\r\n                headerAr: data.headerAr,\r\n                descriptionEn: data.descriptionEn,\r\n                descriptionAr: data.descriptionAr,\r\n                youtube: data.youtube,\r\n              });\r\n            }\r\n          }\r\n        );\r\n      }\r\n    };\r\n\r\n    this.imageFileChanged = () => {\r\n      let files = document.getElementById(\"imageInput\").files;\r\n      this.setState(\r\n        {\r\n          selectImageFile: files.length != 0 ? files[0] : null,\r\n        },\r\n        async () => {\r\n          const { selectImageFile } = this.state;\r\n          if (selectImageFile == null) {\r\n            this.setState({\r\n              imagePreview: \"\",\r\n            });\r\n          } else {\r\n            let imageBase64 = await toBase64(selectImageFile);\r\n            this.setState({\r\n              imagePreview: imageBase64,\r\n            });\r\n          }\r\n        }\r\n      );\r\n    };\r\n\r\n    this.onFormFinished = async (values) => {\r\n      const { id, modelName, reloadGrid } = this.state;\r\n      const {\r\n        headerEn,\r\n        headerAr,\r\n        descriptionEn,\r\n        descriptionAr,\r\n        youtube,\r\n      } = values;\r\n\r\n      let formData = new FormData();\r\n      // await postRequest(modelName, form)\r\n\r\n      formData.append(\"headerEn\", headerEn);\r\n      formData.append(\"headerAr\", headerAr);\r\n      formData.append(\"descriptionEn\", descriptionEn);\r\n      formData.append(\"descriptionAr\", descriptionAr);\r\n      //   formData.append(\"youtube\", youtube);\r\n      if (this.state.selectImageFile)\r\n        formData.append(\"icon\", this.state.selectImageFile);\r\n      else formData.append(\"youtube\", youtube);\r\n      if (id) formData.append(\"id\", id);\r\n      await postRequest(modelName, formData);\r\n      if (reloadGrid) reloadGrid();\r\n      this.closeModal();\r\n    };\r\n\r\n    this.showModal = () => {\r\n      this.setState(\r\n        {\r\n          isModalVisible: true,\r\n          imagePreview: null,\r\n        },\r\n        async () => {\r\n          if (this.state.id) await this.loadModel();\r\n        }\r\n      );\r\n    };\r\n\r\n    this.closeModal = () => {\r\n      this.setState({\r\n        isModalVisible: false,\r\n      });\r\n    };\r\n\r\n    this.modelFormRef = createRef();\r\n  }\r\n\r\n  render() {\r\n    const { modelTitle, imagePreview, buttonIcon, id } = this.state;\r\n    return (\r\n      <div style={{ width: \"100%\" }}>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={this.showModal}\r\n          icon={buttonIcon}\r\n          shape=\"round\"\r\n          className=\"btn_hover darkBlueBg\"\r\n          style={{ width: \"100%\" }}\r\n        ></Button>\r\n        {this.state.isModalVisible && (\r\n          <Modal\r\n            title={modelTitle}\r\n            visible={this.state.isModalVisible}\r\n            onCancel={this.closeModal}\r\n            okButtonProps={{\r\n              form: \"modelForm\",\r\n              htmlType: \"submit\",\r\n              className: \"darkBlueBg\",\r\n            }}\r\n            cancelButtonProps={{ style: { display: \"none\" } }}\r\n          >\r\n            <Form\r\n              id={\"modelForm\"}\r\n              ref={this.modelFormRef}\r\n              onFinish={this.onFormFinished}\r\n              style={{ marginTop: \"5%\" }}\r\n            >\r\n              <Row gutter={10}>\r\n                <Row>\r\n                  <Col span={24}>\r\n                    {/* {imagePreview != \"\" && (\r\n                      <>\r\n                        <Video src={imagePreview} />\r\n                        <Divider />\r\n                      </>\r\n                    )} */}\r\n                    <Form.Item\r\n                      name={\"icon\"}\r\n                      label={i18n.t(\"Video File\")}\r\n                      rules={[\r\n                        {\r\n                          required: !id,\r\n                          message: i18n.t(\"Input is required\"),\r\n                        },\r\n                      ]}\r\n                    >\r\n                      <Input\r\n                        type={\"file\"}\r\n                        accept={\"video/*\"}\r\n                        id=\"imageInput\"\r\n                        ref={this.websiteImageFileRef}\r\n                        onChange={this.imageFileChanged}\r\n                      />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"headerEn\"}\r\n                    label={i18n.t(\"English Header\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"descriptionEn\"}\r\n                    label={i18n.t(\"English Text\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input.TextArea />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"headerAr\"}\r\n                    label={i18n.t(\"Arabic Header\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"descriptionAr\"}\r\n                    label={i18n.t(\"Arabic Text\")}\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: i18n.t(\"input is required\"),\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input.TextArea />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col span={24}>\r\n                  <Form.Item\r\n                    name={\"youtube\"}\r\n                    label={i18n.t(\"Youtube Link\")}\r\n                    rules={[\r\n                      {\r\n                        required: false,\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input.TextArea />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          </Modal>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* eslint-disable camelcase */\r\n/* eslint-disable react/no-access-state-in-setstate */\r\n/* eslint-disable react/destructuring-assignment */\r\nimport React from \"react\";\r\nimport {\r\n  Table,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Form,\r\n  Select,\r\n  Switch,\r\n  Input,\r\n  Divider,\r\n  Popconfirm,\r\n} from \"antd\";\r\nimport {\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  RedoOutlined,\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  DeleteFilled,\r\n} from \"@ant-design/icons\";\r\n\r\nimport { observer, inject } from \"mobx-react\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport uniqid from \"uniqid\";\r\nimport moment from \"moment\";\r\nimport qs from \"qs\";\r\nimport i18n from \"../../i18n\";\r\nimport \"./model.css\";\r\nimport DBModel from \"./DBModel\";\r\n\r\nimport Modal from \"../basic/Modal\";\r\nimport getAgentInstance from \"../../helpers/superagent\";\r\nimport {\r\n  deleteRequest,\r\n  getRequest,\r\n  patchRequest,\r\n} from \"../../helpers/superagentAPI\";\r\nimport RemoteSelect from \"../basic/RemoteSelect\";\r\n\r\nconst superagent = getAgentInstance();\r\n\r\nconst pageSizeOptions = [\"8\", \"15\", \"20\", \"30\", \"40\"];\r\n\r\n@inject(\"userStore\")\r\n@observer\r\nclass List extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialState = () => ({\r\n      modelName: \"AboutVideo\",\r\n      createTitle: i18n.t(\"New Record\"),\r\n      editTitle: i18n.t(\"Edit Record\"),\r\n      data: [],\r\n      loading: false,\r\n      type_name: undefined,\r\n      selectedPackageId: -1,\r\n      selectedUserId: -1,\r\n      pagination: {\r\n        pageSize: parseInt(pageSizeOptions[0], 10),\r\n        pageSizeOptions,\r\n        current: 1,\r\n        total: 0,\r\n        showSizeChanger: true,\r\n        hideOnSinglePage: false,\r\n        showQuickJumper: true,\r\n      },\r\n      sortedInfo: null,\r\n      editResourceId: undefined,\r\n      access: [], //JSON.parse(this.props.userStore.value.privilege),\r\n    });\r\n    this.state = this.initialState();\r\n\r\n    this.fetch = async () => {\r\n      this.setState({ loading: true });\r\n      const { pagination, modelName, filters } = this.state;\r\n\r\n      const params = {\r\n        pageSize: pagination.pageSize,\r\n        page: pagination.current - 1,\r\n      };\r\n\r\n      try {\r\n        this.setState({ loading: true });\r\n        let body = await getRequest(`${modelName}?${qs.stringify(params)}`);\r\n        const tpagination = { ...this.state.pagination };\r\n        tpagination.total = body.count;\r\n        this.setState({\r\n          loading: false,\r\n          data: body.data,\r\n          pagination: tpagination,\r\n        });\r\n      } catch (error) {\r\n        this.setState(this.initialState());\r\n      } finally {\r\n        this.setState({ loading: false });\r\n      }\r\n    };\r\n\r\n    this.deleteModel = async (id) => {\r\n      try {\r\n        this.setState({\r\n          deleting: true,\r\n        });\r\n        await deleteRequest(`${this.state.modelName}/${id}`);\r\n        this.fetch();\r\n      } catch (error) {\r\n      } finally {\r\n        this.setState({\r\n          deleting: false,\r\n        });\r\n      }\r\n    };\r\n\r\n    this.columns = [\r\n      {\r\n        title: \"#\",\r\n        align: \"center\",\r\n        dataIndex: \"id\",\r\n        key: \"id\",\r\n        sorter: true,\r\n        width: 70,\r\n        render: (value) => <p style={{ fontFamily: \"Cuprumsemi\" }}>{value}</p>,\r\n      },\r\n      {\r\n        title: i18n.t(\"Header En\"),\r\n        dataIndex: `headerEn`,\r\n        key: `headerEn`,\r\n        align: \"start\",\r\n        ellipsis: true,\r\n        render: (value) => <p style={{ fontFamily: \"Cuprumsemi\" }}>{value}</p>,\r\n      },\r\n      {\r\n        title: i18n.t(\"Header Ar\"),\r\n        dataIndex: `headerAr`,\r\n        key: `headerAr`,\r\n        align: \"start\",\r\n        ellipsis: true,\r\n        render: (value) => <p style={{ fontFamily: \"Cuprumsemi\" }}>{value}</p>,\r\n      },\r\n      {\r\n        title: i18n.t(\"TextEn\"),\r\n        dataIndex: `descriptionEn`,\r\n        key: `textEn`,\r\n        align: \"start\",\r\n        ellipsis: true,\r\n        render: (value) => <p style={{ fontFamily: \"Cuprumsemi\" }}>{value}</p>,\r\n      },\r\n      {\r\n        title: i18n.t(\"Text Ar\"),\r\n        dataIndex: `descriptionAr`,\r\n        key: `textAr`,\r\n        align: \"start\",\r\n        ellipsis: true,\r\n        render: (value) => <p style={{ fontFamily: \"Cuprumsemi\" }}>{value}</p>,\r\n      },\r\n\r\n      {\r\n        title: i18n.t(\"Actions\"),\r\n        sorter: false,\r\n        align: \"center\",\r\n        width: 160,\r\n        render: (object) => (\r\n          <Row span={24}>\r\n            <Col span={12}>\r\n              <DBModel\r\n                id={object.id}\r\n                reloadGrid={this.fetch}\r\n                title={this.state.editTitle}\r\n                modelName={this.state.modelName}\r\n                buttonIcon={<EditOutlined />}\r\n              />\r\n            </Col>\r\n            <Col span={12}>\r\n              <Popconfirm\r\n                placement=\"bottom\"\r\n                title={i18n.t(\"delete\") + \"?\"}\r\n                onConfirm={() => this.deleteModel(object.id)}\r\n                okText={i18n.t(\"Yes\")}\r\n                cancelText={i18n.t(\"No\")}\r\n              >\r\n                <Button\r\n                  icon={\r\n                    <DeleteFilled\r\n                      style={{\r\n                        color: \"red\",\r\n                      }}\r\n                    />\r\n                  }\r\n                  shape=\"round\"\r\n                  className=\"btn_hover darkBlueBg\"\r\n                  type={\"primary\"}\r\n                  loading={this.state.deleting}\r\n                />\r\n              </Popconfirm>\r\n            </Col>\r\n          </Row>\r\n        ),\r\n      },\r\n    ];\r\n\r\n    // custom refs\r\n    this.newBtn = React.createRef();\r\n    this.editBtn = React.createRef();\r\n\r\n    this.newBtnClicked = () => {\r\n      this.newBtn.current.click();\r\n    };\r\n\r\n    this.editBtnClicked = async (id) => {\r\n      await this.setState({\r\n        editResourceId: id,\r\n      });\r\n      this.editBtn.current.click();\r\n    };\r\n\r\n    this.handleTableChange = (pagination, filters, sorter) => {\r\n      const pager = { ...this.state.pagination };\r\n      pager.current = pagination.current;\r\n      pager.pageSize = pagination.pageSize;\r\n      this.setState(\r\n        {\r\n          pagination: pager,\r\n          sortedInfo: sorter,\r\n        },\r\n        () => this.fetch()\r\n      );\r\n    };\r\n\r\n    this.categoryNameChanged = () => {\r\n      this.fetch();\r\n    };\r\n\r\n    this.filterFormRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetch();\r\n  }\r\n\r\n  render() {\r\n    const { data, pagination, loading, createTitle, modelName } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Row gutter={[10, 10]}>\r\n          <Col span={24}>\r\n            <Table\r\n              columns={this.columns}\r\n              rowClassName=\"tb_row\"\r\n              rowKey={() => uniqid()}\r\n              dataSource={data}\r\n              pagination={pagination}\r\n              loading={loading}\r\n              onChange={this.handleTableChange}\r\n              title={() => (\r\n                <Row>\r\n                  <Col span={4} style={{ display: \"flex\" }}>\r\n                    <h2 style={{ margin: \"auto\" }}>{i18n.t(modelName)}</h2>\r\n                    <Divider\r\n                      type={\"vertical\"}\r\n                      style={{\r\n                        height: \"80%\",\r\n                        margin: \"auto 10%\",\r\n                      }}\r\n                    />\r\n                  </Col>\r\n                  <Col offset={20} span={4}>\r\n                    <DBModel\r\n                      reloadGrid={this.fetch}\r\n                      title={createTitle}\r\n                      modelName={modelName}\r\n                      buttonIcon={<PlusOutlined />}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              )}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <p className=\"pager-Info\">\r\n          {i18n.t(\"Showing\")} {data.length} {i18n.t(\"from\")} {pagination.total}\r\n        </p>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(List);\r\n"],"sourceRoot":""}